(this.webpackJsonpnodes_list=this.webpackJsonpnodes_list||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),s=n.n(a),r=n(44),o=n.n(r),d=(n(109),n(9)),i=(n(110),n(21)),l=n(48),j=n(46),b="ADD_NODE",u="REMOVE_NODE",O="SET_NODES",h="CHANGE_ALERT",m="https://todolist-7b978-default-rtdb.firebaseio.com",f={nodes:[],loading:!1,alert:{show:!1,type:""}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{nodes:[t.node].concat(Object(l.a)(e.nodes))});case u:return Object(d.a)(Object(d.a)({},e),{},{nodes:Object(l.a)(e.nodes).filter((function(e,n){return n!=t.id}))});case O:return t.nodes?Object(d.a)(Object(d.a)({},e),{},{nodes:Object(l.a)(Object.keys(t.nodes).map((function(e){return Object(d.a)(Object(d.a)({},t.nodes[e]),{},{id:e})})))}):Object(d.a)(Object(d.a)({},e),{},{nodes:[]});case h:return Object(d.a)(Object(d.a)({},e),{},{alert:Object(d.a)(Object(d.a)({},e.alert),{},{show:t.alert.show,type:t.alert.type})});default:return Object(d.a)({},e)}},g=function(e){return{type:h,alert:e}},p=function(){return function(e){j.get("".concat(m,"/nodes.json")).then((function(t){var n;e((n=t.data,{type:O,nodes:n}))}))}},N=n(27),_=function(){return Object(c.jsx)("header",{className:"header",children:Object(c.jsxs)("div",{className:"header__content",children:[Object(c.jsx)("img",{className:"header__logo",src:"https://static10.tgstat.ru/channels/_0/e2/e2db1e0464d24e6c4cbcbd17ed634d11.jpg",alt:""}),Object(c.jsxs)("nav",{className:"header__menu menu",children:[Object(c.jsx)(N.b,{to:"/",exact:!0,className:"menu__item",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(c.jsx)(N.b,{to:"/info",className:"menu__item",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]})]})})},v=function(e){var t=e.nodes,n=e.removeNode;e.changeAlert;return Object(c.jsx)("ul",{className:"nodesList",children:t.map((function(e,t){return Object(c.jsxs)("li",{className:"nodesList__node node",children:[Object(c.jsx)("strong",{className:"node__title",children:e.title}),Object(c.jsx)("small",{className:"node__date",children:e.date}),Object(c.jsx)("button",{onClick:function(){return n(e.id)},type:"button",class:"node__closeBtn close",children:"\xd7"})]},t)}))})},w=function(e){var t="remove"===e.alert.type?"remove alert-danger":"add"===e.alert.type?"add alert-success":"warning alert-warning",n="";switch(t){case"remove alert-danger":n="\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430";break;case"add alert-success":n="\u0417\u0430\u0434\u0430\u0447\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430";break;case"warning alert-warning":n="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}return Object(c.jsxs)("div",{className:"alert "+t,children:[Object(c.jsxs)("span",{children:[" ",Object(c.jsx)("strong",{children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"})," ",n," "]}),Object(c.jsx)("button",{onClick:function(){e.changeAlert({show:!1,type:""})},type:"button",class:"alert__closeBtn close",children:"\xd7"})]})},y=n(232),A=n(231),E=Object(A.a)({form:"addNodeForm"})((function(e){return Object(c.jsxs)("form",{className:"addNode",onSubmit:e.handleSubmit,children:[Object(c.jsx)(y.a,{className:"form-control",component:"input",name:"node",changeAlert:e.changeAlert,autoFocus:!0}),Object(c.jsx)("button",{className:"btn btn-success",type:"submit",children:"Add Task"})]})})),k=n(7),S=n(8),D=function(){return Object(c.jsx)("div",{className:"info",children:Object(c.jsxs)("div",{className:"info__content",children:[Object(c.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043c\u0435\u0442\u043e\u043a"}),Object(c.jsx)("p",{children:"React version: 17.0.1"})]})})};var F=Object(k.d)(S.e,Object(i.b)((function(e){return{nodes:e.data.nodes,alert:e.data.alert}}),{getNodes:p,removeNode:function(e){return function(t){j.delete("".concat(m,"/nodes/").concat(e,".json")).then((function(e){t(g({type:"remove",show:!0})),t(p())}))}},changeAlert:g,addNode:function(e){return function(t){e.title?j.post("".concat(m,"/nodes.json"),e).then((function(e){t(g({type:"add",show:!0})),t(p())})):t(g({type:"warning",show:!0}))}}}))((function(e){Object(a.useEffect)((function(){e.getNodes()}),[]);var t=function(t){e.addNode({title:t.node,date:(new Date).toJSON()})};return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(_,{}),Object(c.jsx)(S.a,{path:"/",exact:!0,render:function(){return Object(c.jsxs)(c.Fragment,{children:[e.alert.show&&Object(c.jsx)(w,{alert:e.alert,changeAlert:e.changeAlert}),Object(c.jsx)(E,Object(d.a)({onSubmit:t},e)),Object(c.jsx)(v,{nodes:e.nodes,removeNode:e.removeNode,changeAlert:e.changeAlert})]})}}),Object(c.jsx)(S.a,{path:"/info",exact:!0,render:function(){return Object(c.jsx)(D,{})}})]})})),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,234)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},L=n(102),T=n(233),B=Object(k.c)({data:x,form:T.a}),J=Object(k.e)(B,Object(k.a)(L.a));o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(i.a,{store:J,children:Object(c.jsx)(N.a,{children:Object(c.jsx)(F,{})})})}),document.getElementById("root")),C()}},[[230,1,2]]]);
//# sourceMappingURL=main.f17b59c8.chunk.js.map