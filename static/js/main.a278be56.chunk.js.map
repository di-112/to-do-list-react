{"version":3,"sources":["redux/nodesReducer.js","API/API.jsx","components/header.jsx","components/nodesList.jsx","components/alert.jsx","components/addNode.jsx","components/Information.jsx","components/loader.jsx","App.js","reportWebVitals.js","redux/store.js","index.js"],"names":["timeout","dataBase","API","getNodes","axios","then","response","data","addNode","node","removeNode","id","SET_NODES","CHANGE_ALERT","CHANGE_LOADIND","initialsState","nodes","isLoading","alert","show","type","nodesReducer","state","action","Object","keys","map","key","reverse","changeAlert1","changeLoading","changeAlert","dispatch","clearTimeout","setTimeout","Header","className","src","alt","to","NodesList","index","title","date","onClick","Alert","props","message","class","AddNodeForm","reduxForm","form","onSubmit","handleSubmit","Field","component","name","autoFocus","Information","Loader","role","compose","withRouter","connect","status","useEffect","location","pathname","onClickAddNode","formData","Date","minutes","getMinutes","hours","getHours","day","getDate","monthIndex","getMonth","year","getFullYear","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"iKA4CIA,E,2FC1CEC,EAAW,qDAgBFC,EAdH,CACTC,SAAU,WACR,OAAOC,MAAA,UAAaH,EAAb,gBAAoCI,MAAK,SAACC,GAAD,OAAYA,EAASC,SAGvEC,QAAS,SAACC,GACP,OAAOL,OAAA,UAAcH,EAAd,eAAqCQ,IAG/CC,WAAY,SAACC,GACV,OAAOP,SAAA,UAAgBH,EAAhB,kBAAkCU,EAAlC,YDZPC,EAAY,YACZC,EAAe,eACfC,EAAiB,iBAEjBC,EAAgB,CACnBC,MAAO,GACPC,WAAW,EACXC,MAAO,CAACC,MAAM,EAAOC,KAAM,KA2BfC,EAxBM,WAAiC,IAAhCC,EAA+B,uDAAzBP,EAAcQ,EAAW,uCAClD,OAAOA,EAAOH,MACX,KAAKR,EAAW,OAAIW,EAAOP,MACpB,YAAC,eACFM,GADN,IAEGN,MAAO,YAAIQ,OAAOC,KAAKF,EAAOP,OAAOU,KAAI,SAAAC,GACtC,OAAO,2BACDJ,EAAOP,MAAMW,IADnB,IAEGhB,GAAIgB,QAENC,YARkC,2BAAIN,GAAX,IAAkBN,MAAO,KAU3D,KAAKH,EAAc,OAAO,YAAC,eACrBS,GADa,IAEhBJ,MAAM,2BAAKI,EAAMJ,OAAZ,IAAmBC,KAAMI,EAAOL,MAAMC,KAAMC,KAAMG,EAAOL,MAAME,SAEvE,KAAKN,EAAgB,OAAO,YAAC,eACvBQ,GADe,IAElBL,UAAWM,EAAON,YAErB,QAAS,OAAO,eAAIK,KAQbO,EAAe,SAACX,GAAD,MAAY,CAACE,KAAMP,EAAcK,UAEhDY,EAAgB,SAACb,GAAD,MAAgB,CAACG,KAAMN,EAAgBG,cAIvDc,EAAc,SAACb,GAAD,OAAW,SAACc,GACjChC,GAAQiC,aAAajC,GACxBgC,EAASH,EAAaX,IACtBlB,EAAQkC,YAAW,WAChBF,EAASH,EAAa,CAACT,KAAM,GAAID,MAAM,OACxC,QAGQhB,EAAW,kBAAM,SAAC6B,GAC5BA,EAASF,GAAc,IACvB5B,EAAIC,WAAWE,MAAK,SAACE,GAClByB,EAASF,GAAc,IACvBE,EApB8B,CAACZ,KAAMR,EAAWI,MAoB9BT,S,QEtCT4B,EAfA,WACZ,OACG,wBAAQC,UAAU,SAAlB,SACG,sBAAKA,UAAU,kBAAf,UACG,qBAAKA,UAAU,eAAeC,IANvB,iFAMwCC,IAAI,KACnD,sBAAKF,UAAU,oBAAf,UACG,cAAC,IAAD,CAASG,GAAG,QAAQH,UAAU,aAA9B,wDACA,cAAC,IAAD,CAASG,GAAG,QAAQH,UAAU,aAA9B,mFCKAI,EAfG,SAAC,GAAyB,IAAxBxB,EAAuB,EAAvBA,MAAON,EAAgB,EAAhBA,WACxB,OACG,oBAAI0B,UAAU,YAAd,SACEpB,EAAMU,KAAI,SAACjB,EAAMgC,GAAP,OACT,qBAAIL,UAAU,uBAAd,UACG,gCACA,wBAAQA,UAAU,cAAlB,SAAiC3B,EAAKiC,QACtC,uBAAON,UAAU,aAAjB,SAA+B3B,EAAKkC,UAEpC,wBAAQC,QAAS,kBAAIlC,EAAWD,EAAKE,KAAMS,KAAK,SAASgB,UAAU,uBAAnE,oBALuCK,SCiBpCI,EArBD,SAACC,GACZ,IAAMV,EAAiC,WAArBU,EAAM5B,MAAME,KAAkB,sBAC3B,QAArB0B,EAAM5B,MAAME,KAAe,oBAAoB,wBAE3C2B,EAAU,GAEd,OAAOX,GACJ,IAAK,sBAAuBW,EAAU,kFAAkB,MACxD,IAAK,oBAAqBA,EAAU,8FAAoB,MACxD,IAAK,wBAAyBA,EAAU,iGAI3C,OACK,sBAAKX,UAAS,gBAAWA,GAAzB,UACI,qCAAO,uFAAP,IAAmCW,EAAnC,OACA,wBAAQH,QAAS,kBAAME,EAAMf,YAAY,CAAEZ,MAAM,EAAOC,KAAM,MAAOA,KAAK,SAAS4B,MAAM,wBAAzF,sB,kBCJGC,EAFKC,YAAU,CAACC,KAAM,eAAjBD,EATJ,SAACJ,GACd,OACG,uBAAMV,UAAU,UAAUgB,SAAUN,EAAMO,aAA1C,UACG,cAACC,EAAA,EAAD,CAAOlB,UAAU,eAAemB,UAAU,QAAQC,KAAK,OAAOzB,YAAae,EAAMf,YAAa0B,WAAS,IACvG,qBAAKrB,UAAU,SAAf,SAAwB,wBAAQA,UAAU,kBAAkBhB,KAAK,SAAzC,8B,cCMlBsC,EAXK,WACjB,OACG,qBAAKtB,UAAU,OAAf,SACG,sBAAKA,UAAU,gBAAf,UACG,gUACA,4DCKGuB,EAVA,WACZ,OACG,qBAAKvB,UAAU,SAAf,SACG,qBAAKA,UAAU,8BAA8BwB,KAAK,SAAlD,SACG,sBAAMxB,UAAU,yBCwD5B,IAMeyB,cACbC,IACAC,aARsB,SAACzC,GAAD,MAAY,CAClCN,MAAOM,EAAMf,KAAKS,MAClBE,MAAOI,EAAMf,KAAKW,MAClBD,UAAWK,EAAMf,KAAKU,aAKG,CAACd,WAASO,WRMX,SAACC,GAAD,OAAQ,SAACqB,GAChC9B,EAAIQ,WAAWC,GAAIN,MAAK,SAACC,GACE,MAApBA,EAAS0D,SACVhC,EAASD,EAAY,CAAEX,KAAM,SAAUD,MAAM,KAC7Ca,EAAS7B,WQV+B4B,cAAavB,QRRvC,SAACC,GAAD,OAAU,SAACuB,GAC1BvB,EAAKiC,OAEPV,EAASF,GAAc,IACvB5B,EAAIM,QAAQC,GAAMJ,MAAK,SAACC,GACG,MAApBA,EAAS0D,SACVhC,EAASD,EAAY,CAAEX,KAAM,MAAOD,MAAM,KAC1Ca,EAAS7B,KACT6B,EAASF,GAAc,SAPfE,EAASD,EAAY,CAAEX,KAAM,UAAWD,MAAM,SQKnD0C,EAvDf,SAAaf,GAEXmB,qBAAU,WACRnB,EAAM3C,aACL,IAEH8D,qBAAU,WACqB,UAA1BnB,EAAMoB,SAASC,UAAmBrB,EAAMf,YAAY,CAACZ,MAAK,EAAOC,KAAM,OAC1E,CAAC0B,EAAMoB,SAASC,WAElB,IAAMC,EAAiB,SAACC,GAEtB,IAAM1B,EAAO,IAAI2B,KACXC,EAAU5B,EAAK6B,aACfC,EAAQ9B,EAAK+B,WACbC,EAAMhC,EAAKiC,UACXC,EAAalC,EAAKmC,WAClBC,EAAOpC,EAAKqC,cAElBlC,EAAMtC,QACJ,CACEkC,MAAO2B,EAAS5D,KAChBkC,KAAMgC,EAAM,IAAME,EAAa,IAAME,EAAO,IAAMN,EAAQ,IAAMF,KAItE,OAAGzB,EAAM7B,UACP,sBAAKmB,UAAU,UAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAKF,sBAAKA,UAAU,UAAf,UACE,cAAC,EAAD,IACA,cAAC,IAAD,CAAUG,GAAG,UACb,cAAC,IAAD,CAAO0C,KAAK,QAASC,OAAQ,kBAC3B,qCACIpC,EAAM5B,MAAMC,MAAS,cAAC,EAAD,CAAOD,MAAO4B,EAAM5B,MAAOa,YAAae,EAAMf,cACrE,cAAC,EAAD,aAAaqB,SAAUgB,GAAoBtB,IAC3C,cAAC,EAAD,CAAW9B,MAAO8B,EAAM9B,MAAON,WAAYoC,EAAMpC,WAAYqB,YAAae,EAAMf,oBAGpF,cAAC,IAAD,CAAOkD,KAAK,QAASC,OAAQ,kBAAI,cAAC,EAAD,aC7CxBC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhF,MAAK,YAAkD,IAA/CiF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,kBCFRO,EAAWC,YAAgB,CAC9BrF,KAAMc,EACN8B,KAAM0C,MAKMC,EAFDC,YAAYJ,EAAUK,YAAgBC,MCDpDC,IAAShB,OACP,cAAC,IAAMiB,WAAP,UACE,cAAC,IAAD,CAAUL,MAAOA,EAAjB,SACE,cAAC,IAAD,UACI,cAAC,EAAD,UAIRM,SAASC,eAAe,SAG1BlB,M","file":"static/js/main.a278be56.chunk.js","sourcesContent":["import API from '../API/API'\r\n\r\nconst SET_NODES = 'SET_NODES'\r\nconst CHANGE_ALERT = 'CHANGE_ALERT'\r\nconst CHANGE_LOADIND = 'CHANGE_LOADIND'\r\n\r\nconst initialsState = {\r\n   nodes: [],\r\n   isLoading: false,\r\n   alert: {show: false, type: ''}\r\n}\r\n\r\nconst nodesReducer = (state=initialsState,action) => {\r\n   switch(action.type){\r\n      case SET_NODES: if(!action.nodes) return {...state, nodes: []}\r\n      return ({\r\n         ...state,\r\n         nodes: [...Object.keys(action.nodes).map(key=>{\r\n            return {\r\n               ...action.nodes[key],\r\n               id: key\r\n            }\r\n         })].reverse()\r\n      })\r\n      case CHANGE_ALERT: return ({\r\n         ...state,\r\n         alert: {...state.alert, show: action.alert.show, type: action.alert.type}\r\n      })\r\n      case CHANGE_LOADIND: return ({\r\n         ...state,\r\n         isLoading: action.isLoading\r\n      })\r\n      default: return {...state}\r\n   }\r\n}\r\n\r\nexport default nodesReducer\r\n\r\nexport const setNodes = (nodes) => ({type: SET_NODES, nodes}) \r\n\r\nexport const changeAlert1 = (alert) => ({type: CHANGE_ALERT, alert})\r\n\r\nexport const changeLoading = (isLoading) => ({type: CHANGE_LOADIND, isLoading})\r\n\r\nlet timeout;\r\n\r\nexport const changeAlert = (alert) => (dispatch) => {\r\n   if(timeout)clearTimeout(timeout)\r\n   dispatch(changeAlert1(alert))\r\n   timeout=setTimeout(() => {\r\n      dispatch(changeAlert1({type: '', show: false}))\r\n  }, 55000);\r\n}\r\n\r\nexport const getNodes = () => (dispatch) => {\r\n   dispatch(changeLoading(true))\r\n   API.getNodes().then((data)=>{\r\n      dispatch(changeLoading(false))\r\n      dispatch(setNodes(data))\r\n   })\r\n}\r\n\r\nexport const addNode = (node) => (dispatch) => {\r\n   if (!node.title) dispatch(changeAlert({ type: 'warning', show: true }))\r\n   else {\r\n      dispatch(changeLoading(true))\r\n      API.addNode(node).then((response) => {\r\n         if (response.status === 200) {\r\n            dispatch(changeAlert({ type: 'add', show: true }))\r\n            dispatch(getNodes())\r\n            dispatch(changeLoading(false))\r\n         }\r\n      })\r\n   }\r\n}\r\n\r\nexport const removeNode = (id) => (dispatch) => {\r\n   API.removeNode(id).then((response) => {\r\n      if (response.status === 200) {\r\n         dispatch(changeAlert({ type: 'remove', show: true }))\r\n         dispatch(getNodes())\r\n      }\r\n   })\r\n}","import * as axios from 'axios'\r\n\r\nconst dataBase = 'https://todolist-7b978-default-rtdb.firebaseio.com'\r\n\r\nconst API = {\r\n   getNodes: () =>{\r\n     return axios.get(`${dataBase}/nodes.json`).then((response)=>response.data)\r\n   },\r\n\r\n   addNode: (node) => { \r\n      return axios.post(`${dataBase}/nodes.json`, node)\r\n   },\r\n\r\n   removeNode: (id) => {\r\n      return axios.delete(`${dataBase}/nodes/${id}.json`) \r\n   }\r\n}\r\n\r\nexport default API","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst headerLogo = 'https://static10.tgstat.ru/channels/_0/e2/e2db1e0464d24e6c4cbcbd17ed634d11.jpg'\r\n\r\nconst Header = () => {\r\n   return (\r\n      <header className='header'>\r\n         <div className='header__content'>\r\n            <img className='header__logo' src={headerLogo} alt=\"\"/>\r\n            <nav className='header__menu menu'>\r\n               <NavLink to='/main' className='menu__item'>Главная</NavLink>\r\n               <NavLink to='/info' className='menu__item'>Информация</NavLink>\r\n            </nav>\r\n            \r\n         </div> \r\n      </header>\r\n   )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nconst NodesList = ({nodes, removeNode}) => {\r\n   return (\r\n      <ul className='nodesList'> \r\n       {nodes.map((node, index)=> (\r\n         <li className='nodesList__node node' key={index}>\r\n            <div>\r\n            <strong className='node__title'>{node.title}</strong> \r\n            <small className='node__date'>{node.date}</small> \r\n            </div>\r\n            <button onClick={()=>removeNode(node.id)}  type=\"button\" className=\"node__closeBtn close\">&times;</button>\r\n         </li>))}\r\n      </ul>\r\n   )\r\n}\r\n\r\nexport default NodesList","import React from 'react'\r\n\r\nconst Alert = (props) => {\r\n   const className = props.alert.type === 'remove'?'remove alert-danger':\r\n   props.alert.type === 'add'?'add alert-success':'warning alert-warning'\r\n   \r\n   let message = ''\r\n\r\n   switch(className){\r\n      case 'remove alert-danger': message = 'Задача удалена'; break\r\n      case 'add alert-success': message = 'Задача добавлена'; break\r\n      case 'warning alert-warning': message = 'Что-то пошло не так'; break\r\n      default: break\r\n   }\r\n\r\n   return (  \r\n        <div className={`alert ${className}`}> \r\n            <span> <strong>Внимание!</strong> {message} </span>\r\n            <button onClick={() => props.changeAlert({ show: false, type: '' })} type=\"button\" class=\"alert__closeBtn close\">&times;</button>\r\n         </div> \r\n   )\r\n}\r\n\r\nexport default Alert","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nconst AddNode = (props) => {\r\n   return (\r\n      <form className='addNode' onSubmit={props.handleSubmit}>\r\n         <Field className='form-control' component='input' name='node' changeAlert={props.changeAlert} autoFocus/>\r\n         <div className='addBtn'><button className='btn btn-success' type='submit'>Add Task</button></div>\r\n      </form>\r\n   )\r\n}\r\n\r\nconst AddNodeForm = reduxForm({form: 'addNodeForm'})(AddNode)\r\n\r\nexport default AddNodeForm","import React from 'react'\r\n\r\nconst Information = () =>{\r\n   return (\r\n      <div className=\"info\">\r\n         <div className=\"info__content\">\r\n            <p>Данное приложение предназначено для создания заметок</p>\r\n            <p>React version: 17.0.1</p>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Information","import React from 'react'\r\n\r\nconst Loader = () => {\r\n   return (\r\n      <div className='loader'>\r\n         <div className=\"spinner-border text-primary\" role=\"status\">\r\n            <span className=\"visually-hidden\"></span>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Loader","import './scss/App.scss';\nimport { connect } from 'react-redux';\nimport { addNode, changeAlert, getNodes, removeNode } from './redux/nodesReducer';\nimport { useEffect } from 'react';\nimport Header from './components/header';\nimport NodesList from './components/nodesList';\nimport Alert from './components/alert';\nimport AddNodeForm from './components/addNode';\nimport { compose } from 'redux';\nimport { Redirect, Route, withRouter } from 'react-router-dom';\nimport Information from './components/Information';\nimport Loader from './components/loader';\n\nfunction App(props) {\n  \n  useEffect(()=>{\n    props.getNodes()\n  }, [])\n\n  useEffect(()=>{\n    if(props.location.pathname==='/main')props.changeAlert({show:false, type: ''})\n  },[props.location.pathname])\n\n  const onClickAddNode = (formData) =>{\n\n    const date = new Date()\n    const minutes = date.getMinutes();\n    const hours = date.getHours();\n    const day = date.getDate();\n    const monthIndex = date.getMonth();\n    const year = date.getFullYear();\n\n    props.addNode(\n      {\n        title: formData.node,\n        date: day + '.' + monthIndex + '.' + year + '_' + hours + ':' + minutes\n      })\n  }\n\n  if(props.isLoading)return (\n    <div className=\"wrapper\">\n      <Header/>\n      <Loader />\n    </div>\n  )\n  \n  return (\n    <div className=\"wrapper\">\n      <Header/>\n      <Redirect to='/main'/>\n      <Route path='/main'  render={()=>(\n        <>\n          {(props.alert.show) && <Alert alert={props.alert} changeAlert={props.changeAlert}/>}\n          <AddNodeForm onSubmit={onClickAddNode} {...props}/>\n          <NodesList nodes={props.nodes} removeNode={props.removeNode} changeAlert={props.changeAlert}/>\n        </>)} \n      />\n      <Route path='/info'  render={()=><Information/>} />\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  nodes: state.data.nodes,\n  alert: state.data.alert,\n  isLoading: state.data.isLoading\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, {getNodes,removeNode, changeAlert, addNode})\n)(App)\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport nodesReducer from \"./nodesReducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nconst reducers = combineReducers({\r\n   data: nodesReducer,\r\n   form: formReducer\r\n})\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <HashRouter >\n          <App />\n      </HashRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}